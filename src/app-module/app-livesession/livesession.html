<div class="height-100p flex-view flex-direction-row">
  <div id="nav-menu" class="side-menu">
    <app-sidebar />
  </div>
  <div class="poppup-cp-new-overlay" id="nav-menu-shadow"></div>
  <div class="flex-view">
    <div class="flex-view" id="nav-bar">
      <app-header />
    </div>
    <div id="main-body" class="right-side-responsive">
        <div v-if="isPageLoading" class="website-loader">
            <div>
                <img src="../../assets/website_loading_animation.gif" />
            </div>
        </div>
        <div class="empty-session" v-if="ongoingSessions?.length == 0 && upComingSessions?.length == 0 && previousSessions?.length == 0 && upComingMonthSessions?.length == 0">
          <img src="../../assets/live-chat/empty-live-session.jpg" alt="#" />
          <h4 class="text-center">
            No Live Session Scheduled for your courses yet.
          </h4>
        </div>
        <div v-else class="max-width top-div-com right-inner-width">

          <div class="flex-view flex-direction-row-col justify-content-lg-between" style="max-width: 1160px; margin: 0 auto 50px auto;position: relative;">
            <p class="subtitle-2 clear-hover" @click="clearAll">Clear All</p>
            
            <div class="flex-view filter-landing width-combined" style="position: relative;">
              <img src="./../../assets/Icon-Search.svg">
              <img src="./../../assets/Icon-Search-black.svg">

              <input type="text" placeholder="Search" @change="onChangeSearchString()" v-model="course_string" style="background-color: transparent;border: none; width: 100%;">
              <!-- <div @click="onChangeSearchString()" class="btn-contained btn-np" style="margin: -9px; border-radius: 0 4px 4px 0px; box-shadow: none;">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                  <g fill="#fff" stroke="#707070" stroke-width="1" opacity="0">
                    <rect width="24" height="24" stroke="none"/>
                    <rect x="0.5" y="0.5" width="23" height="23" fill="none"/>
                  </g>
                  <path d="M15.935,14.563h-.723l-.256-.247a5.955,5.955,0,1,0-.64.64l.247.256v.723L19.137,20.5,20.5,19.137Zm-5.489,0a4.117,4.117,0,1,1,4.117-4.117A4.111,4.111,0,0,1,10.446,14.563Z" transform="translate(-0.383 -0.75)" fill="#ffffff"/></svg>
              </div> -->
              <!-- <model-select :options="tagOptions" name="searchParams" v-model="selectedTag" placeholder="Search by Tag" style="border: none!important;"></model-select> -->

            </div>
            <div class="d-lg-flex align-item-center">
              <!-- <div class="flex-view filter-landing width-combined mt-mob" style="position: relative;">
                <img src="./../../assets/Icon-Search.svg">
                <img src="././../../assets/Icon-Search-black.svg">
  
                <input type="text" placeholder="Search By Niche" @change="onChangeSearchString()" v-model="tag_string" style="background-color: transparent;border: none;">
  
                <model-select :options="options" name="searchParams" v-model="selectedCourse" placeholder="Search Course" style="border: none!important;"></model-select>
  
              </div> -->
              
              <div class="flex-view fil-width mt-mob width-combined justify-content-b" v-click-outside="closeBox">
                <div class="flex-view filter-landing marg-left justify-content-b mob-filter-width"
                  @click="listBox = !listBox" >
                  <div class="flex-view">
                    <img src="./../../assets/Icon - Filter.svg" />
                    <img src="./../../assets/Icon-Filter-black.svg" />
                    <label class="ml-2 subtitle-2 filter-font" style="min-width: auto;">{{student_type == 'PAID' ? "Paid": "Enrolled"}}</label>
                  </div>
                  <div class="flex-view">
                    <img class="ml-2" src="./../../assets/Icon-ArrowDropDown-Filled-gray.svg" style="width: 26px;
                  " />
                    <img class="down-cart mr-2" src="./../../assets/Icon ionic-md-arrow-dropdown.svg" />
                    <div v-if="listBox" class="list-box">
                      <label @click="onChangeStudentType('ENROLLED')" class="subtitle-1 ">
                        <b>Enrolled</b>
                      </label>
                      <label @click="onChangeStudentType('PAID')" class="subtitle-2 ">
                        <b>Paid</b>
                      </label>
                    </div>
  
                  </div>
                </div>
              </div>
              <div class="flex-view fil-width mt-mob width-combined justify-content-b" v-click-outside="closeIntrestBoxBox">
                <div class="flex-view filter-landing marg-left justify-content-b mob-filter-width"
                  @click="intrestBox = !intrestBox" >
                  <div class="flex-view">
                    <img src="./../../assets/Icon - Filter.svg" />
                    <img src="./../../assets/Icon-Filter-black.svg" />
                    <label class="ml-2 subtitle-2 filter-font">{{sessionInterest}}</label>
                  </div>
                  <div class="flex-view">
                    <img class="ml-2" src="./../../assets/Icon-ArrowDropDown-Filled-gray.svg" style="width: 26px;
                  " />
                    <img class="down-cart mr-2" src="./../../assets/Icon ionic-md-arrow-dropdown.svg" />
                    <div v-if="intrestBox" class="list-box">
                      <label @click="onChangeIntrestType('All Session')" class="subtitle-1 ">
                        <b>All Session</b>
                      </label>
                      <label @click="onChangeIntrestType('Interested')"  class="subtitle-2 ">
                        <b>Interested</b>
                      </label>
                      <label @click="onChangeIntrestType('Not Interested')" class="subtitle-2 ">
                        <b>Not Interested</b>
                      </label>
                    </div>
  
                  </div>
                </div>
              </div>
              <div class="flex-view fil-width mt-mob width-combined justify-content-b" v-click-outside="closeSortBox">
                <div class="flex-view filter-landing marg-left justify-content-b mob-filter-width"
                  @click="sortBox = !sortBox" >
                  <div class="flex-view">
                    <img src="./../../assets/live-chat/filter-icon.svg" />
                    <img src="./../../assets/live-chat/filter-icon-black.svg" />
                    <label class="ml-2 subtitle-2 filter-font">{{sortSession}}</label>
                  </div>
                  <div class="flex-view">
                    <img class="ml-2" src="./../../assets/Icon-ArrowDropDown-Filled-gray.svg" style="width: 26px;
                  " />
                    <img class="down-cart mr-2" src="./../../assets/Icon ionic-md-arrow-dropdown.svg" />
                    <div v-if="sortBox" class="list-box">
                      <label @click="onChangeSortType('Most Recent')" class="subtitle-1 ">
                        <b>Most Recent</b>
                      </label>
                      <label @click="onChangeSortType('Upcoming')" class="subtitle-2 ">
                        <b>Upcoming</b>
                      </label>
                    </div>
  
                  </div>
                </div>
              </div>
            </div>
          </div>

            <!-- Live sessions start -->

            <div class="live-sessions">
                <div v-for="ongoingSession in ongoingSessions" class="item">
                  <div class="ls-card">
                    <div class="row">
                      <div class="col-lg-4">
                        <div class="ls-thumbnail">
                          <img v-if="ongoingSession.thumbnail" :src="ongoingSession.thumbnail" alt="Instructor Profile Picture" />
                          <img style="object-fit: contain; object-position: center; padding: 20px; background: #dedede;" v-else src="../../assets/Group 2217.svg" alt="Instructor Profile Picture" />
                        </div>
                      </div>
                      <div class="col-lg-8">
                        <div class="d-flex align-items-center justify-content-between my-3 my-lg-0">
                          <p class="ls-course font-family-bold text-capitalize">{{ongoingSession.course?.name ? ongoingSession.course.name : ""}}</p>
                         <div class="d-flex z-index-2">
                            <div class="live-session-content">
                              <ul class="live-session-user-list">
                                  <li v-for="user in ongoingSession.users.slice(0, 5)">
                                      <a href="#" v-if="user.image"><img :src="user.image" alt=""></a>
                                      <a href="#" v-else >{{ getNameInitials(user.full_name ?? "Guest User") }}</a>
                                  </li>
                              </ul>
                              <div class="live-session-user-text font-family-bold" v-if="ongoingSession.users.length > 5">
                                  <span>+ {{ ongoingSession.users.length - 5 }}</span> Live right Now
                              </div>
                            </div>
                            <div class="dropdown ml-2 ml-lg-3">
                             <div class="act-dot cursor" data-toggle="dropdown"> <img src="../../assets/live-chat/dots.svg" class="dropdown-toggle cursor" ></div>
                              <div class="dropdown-menu dropdown-menu-right">
                                <a class="dropdown-item" href="#" @click="openReportModal(ongoingSession.id)">Report</a>
                              </div>
                            </div>
                         </div>
  
                        </div>
                        <div>
                          <div class="d-flex align-items-center">
                            <h5 class="ls-title font-family-bold text-truncate">{{ ongoingSession.name }}</h5>
                            <span class="live-badge font-family-bold">&#9679; Live</span>
                          </div>
                          <div class="ls-desc">{{ ongoingSession.description }}</div>
                          <div class="flex-view ls-professer-detail align-items-center">
                            <div class="ls-professor-avatar">
                                <img :src="ongoingSession.instructor_pic" alt="Instructor Profile Picture">
                            </div>
                            <div class="professer-detail">
                                <div class="ls-professer-name font-family-bold">{{ ongoingSession.instructor_name }}</div>
                                <div class="ls-professer-exp">
                                    {{ ongoingSession.instructor_profile }}
                                </div>
                            </div>
                          </div>
                        </div>
                        <div class="flex-view justify-content-end pt-3 pt-lg-0 my-button z-index-2">
                          <button class="btn-np outlined button-height ml-0 mr-2" style="min-width: auto;"  @click="openShareModal(ongoingSession)"><img src="./../../assets/live-chat/share_black_24dp 1.svg" style="width: 16px;" alt="#"></button>
                          <button @click="addToCalender(ongoingSession)" class="btn-np outlined button-height ml-0 text-truncate" target="_blank"><img class="mr-2" src="./../../assets/live-chat/fi_2838764.svg" alt="#"> ADD TO CALENDAR</button>
                          <a v-if="ongoingSession.purchased !== undefined && !ongoingSession.purchased" :href="createBuyNowLink(ongoingSession)" class="btn-np btn-contained button-height text-uppercase" >Buy Now</a>
                            <router-link v-else-if="ongoingSession.status === 'STARTED' && ongoingSession.url_type == 'NEARPEER'" class="btn-np btn-contained button-height text-uppercase" v-bind:to="{path: '/live-chat/'+ongoingSession.id}" target="_blank">
                                Join Session
                            </router-link>
                            <a v-else-if="ongoingSession.status === 'STARTED' && ongoingSession.url_type != 'NEARPEER'" :href="ongoingSession.url" class="btn-np btn-contained button-height text-uppercase" target="_blank">Join Session</a>
                          <!--                        <a :href="ongoingSession.url" target="_blank" class="btn-np outlined button-height"> JOIN</a>-->
                          <!-- <a :href="ongoingSession.url" target="_blank" class="btn-np outlined button-height" data-toggle="modal" data-target="#join_session"> JOIN</a> -->
                      </div>
                      </div>
                    </div>
                    <router-link v-bind:to="{path: '/live-session/'+ongoingSession.id}" class="ls-card-overlay cursor"></router-link>
                  </div>

                  <div class="modal ls-modal" :id="`ls_course_detail_ongoing_${ongoingSession.id}`" tabindex="-1" aria-labelledby="ls_course_detail_Label" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered modal-xl">
                      <div class="modal-content ls-modal-content">
                        <div class="modal-body">
                          <div class="row">
                            <div class="col-lg-5">
                              <div class="ls-thumbnail">
                                <img v-if="ongoingSession.thumbnail" :src="ongoingSession.thumbnail" alt="Instructor Profile Picture" />
                                <img style="object-fit: contain; object-position: center; padding: 20px; background: #dedede;" v-else src="../../assets/Group 2217.svg" alt="Instructor Profile Picture" />
                              </div>
                            </div>
                            <div class="col-lg-7">
                              <div class="d-flex align-items-center justify-content-between">
                                <p class="ls-course font-family-bold">{{ongoingSession.course?.name ? ongoingSession.course.name : ""}}</p>
                               <div class="d-flex">
                                  <div class="act-dot cursor">
                                    <img class="" src="./../../assets/live-chat/share_black_24dp 1.svg"  @click="openShareModal(ongoingSession)" alt="#" />
                                  </div>
                                  <div class="dropdown z-index-2 cursor">
                                    <div class="act-dot cursor" data-toggle="dropdown"><img class="cursor" src="../../assets/live-chat/dots.svg" class="dropdown-toggle" data-toggle="dropdown"></div>
                                    <div class="dropdown-menu dropdown-menu-right">
                                      <a class="dropdown-item" href="#" @click="openReportModal(ongoingSession.id)">Report</a>
                                    </div>
                                  </div>
                                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <div class="act-dot cursor"><img src="../../assets/live-chat/close-icon.svg" alt="#" /></div>
                                  </button>
                               </div>
        
                              </div>
                              <div>
                                <div class="d-flex align-items-center">
                                  <h5 class="ls-title font-family-bold text-truncate">{{ ongoingSession.name }}</h5>
                                  <span class="live-badge font-family-bold">&#9679; Live</span>
                                </div>
                                <div class="ls-desc popup-desc">{{ ongoingSession.description }}</div>
                                <div class="flex-view ls-professer-detail align-items-center">
                                  <div class="ls-professor-avatar">
                                      <img :src="ongoingSession.instructor_pic" alt="Instructor Profile Picture">
                                  </div>
                                  <div class="professer-detail">
                                      <div class="ls-professer-name font-family-bold">{{ ongoingSession.instructor_name }}</div>
                                      <div class="ls-professer-exp">
                                          {{ ongoingSession.instructor_profile }}
                                      </div>
                                  </div>
                                </div>
                              </div>
                              <div class="flex-view justify-content-end pt-3 pt-lg-0 my-button">
                                <button @click="addToCalender(ongoingSession)" class="btn-np outlined button-height ml-0 text-truncate" target="_blank"><img class="mr-2" src="./../../assets/live-chat/fi_2838764.svg" alt="#"> ADD TO CALENDAR</button>
                                  <router-link v-if="ongoingSession.status === 'STARTED' && ongoingSession.url_type == 'NEARPEER'" class="btn-np btn-contained button-height text-uppercase" v-bind:to="{path: '/live-chat/'+ongoingSession.id}" target="_blank">
                                      Join Session
                                  </router-link>
                                  <a v-else-if="ongoingSession.status === 'STARTED' && ongoingSession.url_type != 'NEARPEER'" :href="ongoingSession.url" class="btn-np btn-contained button-height text-uppercase" target="_blank">Join Session</a>
                                <!--                        <a :href="ongoingSession.url" target="_blank" class="btn-np outlined button-height"> JOIN</a>-->
                                <!-- <a :href="ongoingSession.url" target="_blank" class="btn-np outlined button-height" data-toggle="modal" data-target="#join_session"> JOIN</a> -->
                            </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                    <!-- <div class="flex-view card-head flex-direction-row align-items-center justify-content-between">
                        <div class="div">
                            <h5>{{ ongoingSession.name }}</h5>
                        </div>
                        <div class="flex-view d-none d-lg-flex">
                            <div class="ls-schdule"><img src="./../../assets/calendar-filled.svg" alt=""> {{ new Date(ongoingSession.time).toLocaleDateString("en-US", { day: "numeric", month: "short", year: "numeric" }) }}</div>
                            <div class="ls-schdule"><img src="./../../assets/clock-red.svg" alt="">{{ new Date(ongoingSession.time).toLocaleTimeString("en-US", { hour: "numeric", minute: "numeric", hour12: true }) }}</div>
                        </div>
                    </div>
                    <div class="item-second-child">
                        <div class="flex-view justify-content-between flex-direction-row-col position-relative">
                            <div class="ls-professer">
                                <div class="flex-view ls-professer-detail align-items-center">
                                    <div class="ls-professor-avatar">
                                        <img :src="ongoingSession.instructor_pic" alt="Instructor Profile Picture">
                                    </div>
                                    <div class="professer-detail">
                                        <div class="ls-professer-name"><h3>{{ ongoingSession.instructor_name }}</h3></div>
                                        <div class="ls-professer-exp">
                                            {{ ongoingSession.instructor_profile }}
                                        </div>
                                    </div>
                                </div>
                                <div v-if="ongoingSession.users.length" class="live-session-user">
                                    <div class="live-session-content">
                                        <ul class="live-session-user-list">
                                            <li v-for="user in ongoingSession.users.slice(0, 5)">
                                                <a href="#" v-if="user.image"><img :src="user.image" alt=""></a>
                                                <a href="#" v-else >{{ getNameInitials(user.full_name ?? "Guest User") }}</a>
                                            </li>
                                        </ul>
                                        <div class="live-session-user-text">
                                            <span v-if="ongoingSession.users.length > 5">+ {{ ongoingSession.users.length - 5 }}</span> Live right Now
                                        </div>
                                    </div>
                                </div>
                                <div class="card" v-if="ongoingSession.status == 'RESCHEDULED'">
                                    <div class="alert alert-danger mb-0" role="alert">
                                        This live session has been reschedule to future date & time.
                                    </div>
                                </div>
                                <div class="ls-desc">{{ ongoingSession.description }}</div>
                            </div>
                            <div class="ls-time flex-view flex-direction-col justify-content-between">
                                <div class="flex-view justify-content-between align-items-center">
                                    <div class="repot-issue">
                                    </div>
                                </div>
                                <div class="ls-time-remain flex-view align-items-center justify-content-between">
                                    <img src="./../../assets/clock-new.svg" alt="#" />
                                    <div class="clock">
                                        <h2>0</h2>
                                        <span>days</span>
                                    </div>
                                    <div class="clock">
                                        <h2>0</h2>
                                        <span>Hour</span>
                                    </div>
                                    <div class="clock">
                                        <h2>0</h2>
                                        <span>Minutes</span>
                                    </div>
                                </div>
                                <div class="flex-view justify-content-md-between pt-3 pt-lg-0 my-button">
                                    <a :href="calendarLink(ongoingSession)" class="btn-np outlined button-height ml-0 mr-2 text-truncate" target="_blank"><img src="./../../assets/calendar-filled.svg" alt="#"> ADD TO CALENDAR</a>
                                    <router-link class="btn-np btn-contained button-height" v-bind:to="{path: '/live-chat/'+ongoingSession.id}">
                                        Join
                                    </router-link>
                                </div>
                            </div>
                        </div>
                    </div> -->
                  </div>
                 <div v-if="ongoingSessionsCount > 5" class="mb-5">
                    <base-pagination
                      :page-count="Math.ceil(ongoingSessionsCount / 5)"
                      v-model="currentOnGoingPage"
                      ref="paginationss"
                      @input="handleOnGoingPageChange"
                    ></base-pagination>
                 </div>
            </div>


            <!-- Live sessions end -->

          <!-- Live sessions start -->

          <div class="live-sessions">
            <div v-for="upComingSession in upComingSessions">
              <div class="rescheduled-banner d-flex align-items-center justify-content-between" v-if="upComingSession.status !== 'STARTED' && upComingSession.status !== 'ENDED' && (upComingSession.status === 'RESCHEDULED' || Math.floor((Date.parse(upComingSession.time) - Date.now())) < 0)" :id="`reschedule_banner_${upComingSession.id}`">
                <div></div>
                <p v-if="upComingSession.status === 'RESCHEDULED' && Math.floor((Date.parse(upComingSession.time) - Date.now())) >= 0">
                    <img src="../../assets/live-chat/caution.svg" alt="">
                    This live session has been rescheduled from 
                    {{ new Date(upComingSession.ex_time).toLocaleDateString("en-US", { day: "numeric", month: "short", hour: "numeric", minute: "numeric", hour12: true }) }}
                    to
                    <span class="font-family-bold">
                      {{ new Date(upComingSession.time).toLocaleDateString("en-US", { day: "numeric", month: "short", hour: "numeric", minute: "numeric", hour12: true }) }}
                    </span>
                </p>
                <p v-else-if="Math.floor((Date.parse(upComingSession.time) - Date.now())) < 0">
                  Waiting for instructor to start this meeting...
                </p>
                <div @click="rescheduleBannerClose(upComingSession.id)" class="cursor">
                  <svg width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M9.90597 8.03348L6.87585 4.99985L9.90883 1.96622C9.96722 1.90747 10 1.82799 10 1.74515C10 1.6623 9.96722 1.58283 9.90883 1.52407L8.4734 0.0911896C8.41466 0.0327833 8.33519 0 8.25237 0C8.16954 0 8.09008 0.0327833 8.03134 0.0911896L4.99836 3.12267L1.96538 0.0911896C1.90664 0.0327833 1.82718 0 1.74436 0C1.66153 0 1.58207 0.0327833 1.52333 0.0911896L0.091464 1.52407C0.0330703 1.58283 0.000294049 1.6623 0.000294049 1.74515C0.000294049 1.82799 0.0330703 1.90747 0.091464 1.96622L3.12373 4.99985L0.091464 8.03348C0.0328963 8.09214 0 8.17165 0 8.25456C0 8.33746 0.0328963 8.41697 0.091464 8.47563L1.51976 9.90852C1.5785 9.96692 1.65796 9.99971 1.74078 9.99971C1.82361 9.99971 1.90307 9.96692 1.96181 9.90852L4.99479 6.87489L8.03134 9.90852C8.08999 9.9671 8.16948 10 8.25237 10C8.33525 10 8.41475 9.9671 8.4734 9.90852L9.90597 8.47563C9.96454 8.41697 9.99744 8.33746 9.99744 8.25456C9.99744 8.17165 9.96454 8.09214 9.90597 8.03348Z" fill="#B3B3B3"/>
                    </svg> 
                </div>
              </div>
              <div class="ls-card item">
                <div class="row">
                  <div class="col-lg-4">
                    <div class="ls-thumbnail">
                      <img v-if="upComingSession.thumbnail" :src="upComingSession.thumbnail" alt="Instructor Profile Picture">
                      <img style="object-fit: contain; object-position: center; padding: 20px; background: #dedede;" v-else src="../../assets/Group 2217.svg" alt="Instructor Profile Picture">
                    </div>
                  </div>
                  <div class="col-lg-8">
                    <div class="d-flex align-items-center justify-content-between my-3 my-lg-0">
                      <p class="ls-course font-family-bold text-uppercase">{{upComingSession.course?.name ? upComingSession.course.name : ""}}</p>
                     <div class="d-flex z-index-2">
                      <div class="ls-time-remain flex-view align-items-center justify-content-between" v-if="Math.floor((Date.parse(upComingSession.time) - Date.now())) >= 0">
                          <img src="./../../assets/live-chat/time.svg" alt="#" />
                          <div class="clock">
                          <h4>{{ Math.floor((Date.parse(upComingSession.time) - Date.now())/ (1000 * 60 * 60 * 24)) > 0 ? Math.floor((Date.parse(upComingSession.time) - Date.now())/ (1000 * 60 * 60 * 24)) : 0 }}</h4>
                            <span>days</span>
                          </div>
                          <div class="clock">
                          <h4>{{ Math.floor(((Date.parse(upComingSession.time) - Date.now()) % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)) > 0 ? Math.floor(((Date.parse(upComingSession.time) - Date.now()) % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)) : 0 }}</h4>
                            <span>Hrs</span>
                          </div>
                          <div class="clock">
                            <h4>{{ Math.floor(((Date.parse(upComingSession.time) - Date.now()) % (1000 * 60 * 60)) / (1000 * 60)) > 0 ? Math.floor(((Date.parse(upComingSession.time) - Date.now()) % (1000 * 60 * 60)) / (1000 * 60)) : 0 }}</h4>
                            <span>Mins</span>
                          </div>
                      </div>
                     <!-- <div v-else class="ls-time-remain flex-view align-items-center justify-content-between">Waiting for instructor to start this meeting...</div> -->
                        <div class="dropdown ml-lg-3">
                          <div class="act-dot cursor" data-toggle="dropdown"><img class="cursor" src="../../assets/live-chat/dots.svg" class="dropdown-toggle"></div>
                          <div class="dropdown-menu dropdown-menu-right">
                            <a class="dropdown-item" href="#" @click="openReportModal(upComingSession.id)">Report</a>
                          </div>
                        </div>
                     </div>

                    </div>
                    <div>
                      <h5 class="ls-title font-family-bold text-truncate">{{ upComingSession.name }}</h5>
                      <div class="ls-desc">{{ upComingSession.description }}</div>
                      <div class="flex-view ls-professer-detail align-items-center">
                        <div class="ls-professor-avatar">
                            <img :src="upComingSession.instructor_pic" alt="Instructor Profile Picture">
                        </div>
                        <div class="professer-detail">
                            <div class="ls-professer-name font-family-bold">{{ upComingSession.instructor_name }}</div>
                            <div class="ls-prols-professer-namefesser-exp">
                                {{ upComingSession.instructor_profile }}
                            </div>
                        </div>
                      </div>
                    </div>
                    <div class="flex-view justify-content-end pt-3 pt-lg-0 my-button z-index-2">
                      <button class="btn-np outlined button-height ml-0 mr-2" style="min-width: auto;"  @click="openShareModal(upComingSession)"><img src="./../../assets/live-chat/share_black_24dp 1.svg" style="width: 16px;" alt="#"></button>
                      <button @click="addToCalender(upComingSession)" class="btn-np outlined button-height ml-0 text-truncate" target="_blank"><img class="mr-2" src="./../../assets/live-chat/fi_2838764.svg" alt="#"> ADD TO CALENDAR</button>
                      

                      <div class="btn-group dropup">
                        <button type="button" class="btn-np outlined dropdown-toggle d-flex align-items-center" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                          <img
                          :src="upComingSession.interested_users.find(user => user.user_id === uid)?.is_interested || false ? filled_start : outlined_start"
                          alt=""
                        />
                        <p class="mx-2">
                            {{ upComingSession.interested_users.find(user => user.user_id === uid)?.is_interested || false ? "Interested" : "Not Interested" }}
                        </p>
                        </button>
                        <div class="dropdown-menu">
                          <a class="dropdown-item" href="javascript:void(0)" @click="interested(upComingSession.id, 'interested')">Interested</a>
                          <a class="dropdown-item" href="javascript:void(0)" @click="interested(upComingSession.id, 'notInterested')">Not Interested</a>
                        </div>
                      </div>
                      <!-- <router-link class="btn-np btn-contained button-height" v-bind:to="{path: '/live-chat/'+upComingSession.id}">
                          Join Session
                      </router-link> -->
                      <!--                        <a :href="ongoingSession.url" target="_blank" class="btn-np outlined button-height"> JOIN</a>-->
                      <!-- <a :href="ongoingSession.url" target="_blank" class="btn-np outlined button-height" data-toggle="modal" data-target="#join_session"> JOIN</a> -->
                  </div>
                  </div>
                </div>
                <!-- <div class="ls-card-overlay cursor" @click="openUpcomingSessionModal(upComingSession.id)"></div> -->
                <router-link v-bind:to="{path: '/live-session/'+upComingSession.id}" class="ls-card-overlay cursor"></router-link>
              </div>
              <!-- <div class="modal ls-modal ls_course_detail_upcoming" :id="`ls_course_detail_upcoming_${upComingSession.id}`" tabindex="-1" aria-labelledby="ls_course_detail_upcoming_Label" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered modal-xl">
                  <div class="modal-content ls-modal-content">
                    <div class="modal-body">
                      <div class="row">
                        <div class="col-lg-5">
                          <div class="ls-thumbnail">
                            <img v-if="upComingSession.thumbnail" :src="upComingSession.thumbnail" alt="Instructor Profile Picture" />
                            <img style="object-fit: contain; object-position: center; padding: 20px; background: #dedede;" v-else src="../../assets/Group 2217.svg" alt="Instructor Profile Picture" />
                          </div>
                        </div>
                        <div class="col-lg-7">
                          <div class="d-flex align-items-center justify-content-between">
                            <p class="ls-course font-family-bold">{{upComingSession.course?.name ? upComingSession.course.name : ""}}</p>
                           <div class="d-flex">
                              <div class="act-dot cursor"><img src="./../../assets/live-chat/share_black_24dp 1.svg"  @click="openShareModal(upComingSession)" alt="#"></div>
                              <div class="dropdown z-index-2">
                                <div class="act-dot cursor" data-toggle="dropdown"><img class="cursor" src="../../assets/live-chat/dots.svg" class="dropdown-toggle"></div>
                                <div class="dropdown-menu dropdown-menu-right">
                                  <a class="dropdown-item" href="#" @click="openReportModal(upComingSession.id)">Report</a>
                                </div>
                              </div>
                              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <div class="act-dot cursor"><img src="../../assets/live-chat/close-icon.svg" alt="#" /></div>
                              </button>
                           </div>
    
                          </div>
                          <div>
                            <h5 class="ls-title font-family-bold text-truncate">{{ upComingSession.name }}</h5>
                            <div class="ls-desc popup-desc">{{ upComingSession.description }}</div>
                            <div class="flex-view ls-professer-detail align-items-center">
                              <div class="ls-professor-avatar">
                                  <img :src="upComingSession.instructor_pic" alt="Instructor Profile Picture">
                              </div>
                              <div class="professer-detail">
                                  <div class="ls-professer-name font-family-bold">{{ upComingSession.instructor_name }}</div>
                                  <div class="ls-professer-exp">
                                      {{ upComingSession.instructor_profile }}
                                  </div>
                              </div>
                            </div>
                          </div>
                          <div class="flex-view justify-content-end pt-3 pt-lg-0 my-button">
                            <a :href="calendarLink(upComingSession)" class="btn-np outlined button-height ml-0 text-truncate" target="_blank"><img class="mr-2" src="./../../assets/live-chat/fi_2838764.svg" alt="#"> ADD TO CALENDAR</a>
                            <div class="btn-group dropup">
                              <button type="button" class="btn-np outlined dropdown-toggle d-flex align-items-center" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <img
                                :src="upComingSession.interested_users.find(user => user.user_id === uid)?.is_interested || false ? filled_start : outlined_start"
                                alt=""
                              />
                              <p class="mx-2">
                                  {{ upComingSession.interested_users.find(user => user.user_id === uid)?.is_interested || false ? "Interested" : "Not Interested" }}
                              </p>
                              </button>
                              <div class="dropdown-menu">
                                <a class="dropdown-item" href="javascript:void(0)" @click="interested(upComingSession.id, 'interested')">Interested</a>
                                <a class="dropdown-item" href="javascript:void(0)" @click="interested(upComingSession.id, 'notInterested')">Not Interested</a>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div> -->

              <!-- <div class="flex-view card-head flex-direction-row align-items-center justify-content-between">
                <div class="div">
                  <h5>{{ upComingSession.name }}</h5>
                </div>
                <div class="flex-view d-none d-lg-flex">
                  <div class="ls-schdule"><img src="./../../assets/calendar-filled.svg" alt=""> {{ new Date(upComingSession.time).toLocaleDateString("en-US", { day: "numeric", month: "short", year: "numeric" }) }}</div>
                  <div class="ls-schdule"><img src="./../../assets/clock-red.svg" alt="">{{ new Date(upComingSession.time).toLocaleTimeString("en-US", { hour: "numeric", minute: "numeric", hour12: true }) }}</div>
                </div>
              </div>
              <div class="item-second-child">
                <div class="flex-view justify-content-between flex-direction-row-col position-relative">
                  <div class="ls-professer">
                    <div class="flex-view ls-professer-detail align-items-center">
                      <div class="ls-professor-avatar">
                        <img :src="upComingSession.instructor_pic" alt="Instructor Profile Picture">
                      </div>
                      <div class="professer-detail">
                        <div class="ls-professer-name"><h3>{{ upComingSession.instructor_name }}</h3></div>
                        <div class="ls-professer-exp">
                          {{ upComingSession.instructor_profile }}
                        </div>
                      </div>
                    </div>
                      <div class="card" v-if="upComingSession.status == 'RESCHEDULED'">
                          <div class="alert alert-danger mb-0" role="alert">
                              This live session has beed reschedule to future date & time.
                          </div>
                      </div>
                    <div class="ls-desc">{{ upComingSession.description }}</div>
                  </div>
                  <div class="ls-time flex-view flex-direction-col justify-content-between">
                    <div class="flex-view justify-content-between align-items-center">
                      <div class="repot-issue">
                      </div>
                    </div>
                    <div class="ls-time-remain flex-view align-items-center justify-content-between">
                        <img src="./../../assets/clock-new.svg" alt="#" />
                        <div class="clock">
                        <h2>{{ Math.floor((Date.parse(upComingSession.time) - Date.now())/ (1000 * 60 * 60 * 24)) }}</h2>
                          <span>days</span>
                        </div>
                        <div class="clock">
                        <h2>{{ Math.floor(((Date.parse(upComingSession.time) - Date.now()) % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)) }}</h2>
                          <span>Hour</span>
                        </div>
                        <div class="clock">
                          <h2>{{ Math.floor(((Date.parse(upComingSession.time) - Date.now()) % (1000 * 60 * 60)) / (1000 * 60)) }}</h2>
                          <span>Minutes</span>
                        </div>
                    </div>
                    <div class="flex-view justify-content-md-between pt-3 pt-lg-0 my-button">
                      <a :href="calendarLink(upComingSession)" class="btn-np outlined button-height ml-0 mr-2 text-truncate" target="_blank">
                        <img class="mr-2" src="./../../assets/calendar-filled.svg" alt="#"> ADD TO CALENDAR
                      </a>
                        <router-link class="btn-np btn-contained button-height m-0" v-bind:to="{path: '/live-chat/'+upComingSession.id}">
                            Join
                        </router-link>
                    </div>
                  </div>
                </div>
              </div> -->
            </div>
            <div v-if="upComingSessionsCount > 5" class="mb-5">
              <base-pagination
                      :page-count="Math.ceil(upComingSessionsCount / 5)"
                      v-model="currentUpComingPage"
                      ref="paginationss"
                      @input="handleUpComingPageChange"
                    ></base-pagination>
            </div>
          </div>

           <!-- Live sessions end -->




          <!-- upcoming Live sessions start -->

          <div v-if="upComingMonthSessions.length > 0" class="upcoming-live-session">

            <div class="item">

              <a class="flex-view card-head flex-direction-row align-items-center justify-content-between position-relative" data-toggle="collapse" href="#uls" role="button" aria-expanded="true" aria-controls="uls">
               
                  <div class="div">
                    <h5>Upcoming Live Sessions</h5>
                  </div>
                  <!-- <div class="flex-view">
                    <div class="ls-schdule"><img src="./../../assets/calendar-filled.svg" alt="">Previous Sessions (Last Month)</div>
                    
                  </div> -->
                  <img class="tab-down-arrow" src="./../../assets/attempt-filter-dd-icon.png" alt="#">

              </a>
              <div class="item-second-child collapse show" id="uls">
                <div class="uls">
                  <div v-for="upcommingMonth in upComingMonthSessions" class="uls-item">
                    <router-link v-bind:to="{path: '/live-session/'+upcommingMonth.id}" class="flex-view justify-content-between align-items-lg-center flex-direction-row-col" style="color: initial;">
                      <div class="uls-professer flex-view align-items-center">
                        <div class="uls-professer-avatar"><img :src="upcommingMonth.instructor_pic" alt="instructor_pic"></div>
                        <div>
                          <div class="uls-subject">{{ upcommingMonth.name }} with {{ upcommingMonth.instructor_name }}</div>
                          <div class="uls-intro">{{ upcommingMonth.description }}</div>
                        </div>
                      </div>
                      <div class="uls-schedule">
                        <div class="uls-date">
                          <img src="./../../assets/calendar.png" alt="">{{ new Date(upcommingMonth.time).toLocaleDateString("en-US", { day: "numeric", month: "short", year: "numeric" }) }}
                        </div>
                      </div>
                    </router-link>
                  </div>
                </div>
              </div>
            </div>

              <!-- <div class="text-center" v-if="loadMore">
                <div class="lds-ellipsis">
                  <div></div>
                  <div></div>
                  <div></div>
                  <div></div>
                </div>
              </div>
              <scroll-loader :loader-method="handlePreviousPageChange" :loader-enable="loadMore">
              </scroll-loader> -->
          </div>

          <!-- upcoming Live sessions end -->



          <!-- Recorded Live sessions start -->

          <div v-if="previousSessions?.length > 0" class="upcoming-live-session">

            <div class="item">

              <a class="flex-view card-head flex-direction-row align-items-center justify-content-between position-relative" data-toggle="collapse" href="#rls" role="button" aria-expanded="true" aria-controls="rls">
               
                  <div class="div">
                    <h5>Previously Recorded Live Sessions</h5>
                  </div>
                  <div class="flex-view">
                    <div class="ls-schdule"><img src="./../../assets/calendar-filled.svg" alt="">Previous Sessions (Last Month)</div>
                    
                  </div>
                  <img class="tab-down-arrow" src="./../../assets/attempt-filter-dd-icon.png" alt="#">

              </a>
              <div class="item-second-child collapse show" id="rls">
                <div class="uls">
                  <div v-for="previousSession in previousSessions" class="uls-item position-relative" :key="index">
                    <div class="flex-view justify-content-between align-items-lg-center flex-direction-row-col" style="color: initial;">
                      <div class="uls-professer flex-view align-items-lg-center">
                        <div class="uls-professer-avatar"><img :src="previousSession.instructor_pic" alt="instructor_pic"></div>
                        <div>
                          <div class="uls-subject">{{ previousSession.name }} with {{ previousSession.instructor_name }}</div>
                          <div class="uls-intro" :id="`uls_detail_${previousSession.id}`">
                            <div v-readMore:150="previousSession.description"></div>
                          </div>
                        </div>
                      </div>
                      <div class="uls-schedule">
                        <div class="uls-date">
                          <img src="./../../assets/calendar.png" alt="">{{ new Date(previousSession.time).toLocaleDateString("en-US", { day: "numeric", month: "short", year: "numeric" }) }}
                        </div>
                        <div v-if="previousSession.recording_link" class="uls-button">
                          <a :href="previousSession.recording_link" target="_blank" class="btn-np outlined button-height">Go To Video</a>
                        </div>
                      </div>
                    </div>
                    <router-link v-bind:to="{path: '/live-session/'+previousSession.id}" class="ls-card-overlay cursor"></router-link>
                  </div>
                </div>
              </div>
            </div>

              <div class="text-center" v-if="loadMore">
                <div class="lds-ellipsis">
                  <div></div>
                  <div></div>
                  <div></div>
                  <div></div>
                </div>
              </div>
              <scroll-loader :loader-method="handlePreviousPageChange" :loader-enable="loadMore">
              </scroll-loader>
          </div>

        <!-- Recorded Live sessions end -->

         
        </div>

        <!-- Report an issue Modal start -->

        <div class="modal ls-modal backdrop" id="report_an_issue" tabindex="-1" aria-labelledby="report_an_issue_Label" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content ls-modal-content">
              <div class="modal-header ls-modal-header">
                <div>
                  <h5 class="modal-title font-family-bold" id="report_an_issue_Label">Report Live Session</h5>
                  <p>You can report the live session, if you feel something not good.</p>
                </div>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <img src="../../assets/live-chat/close-icon.svg" alt="#" />
                </button>
              </div>
              <div class="modal-body">
                <form action="#" class="report-issue-form">
                    <label for="reportAnIssue">Please share your valuable feedback with us so that we can enhance your experience.</label>
                    <textarea class="form-control" id="reportAnIssue" placeholder="Max 250 Characters" required maxlength="250" placeholder="Type here anything...."></textarea>
                </form>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn-np outlined button-height" data-dismiss="modal">Cancel</button>
                <button type="button" class="btn-np btn-contained hy button-height" @click="submitReport()">Submit</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Report an issue Modal end -->

        <!-- Copy or Share Modal start -->

        <div class="modal ls-modal backdrop" id="ls_share" tabindex="-1" aria-labelledby="ls_share_Label" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content ls-modal-content">
              <div class="modal-header ls-modal-header">
                <div>
                  <h5 class="modal-title font-family-bold" id="ls_share_Label">Share Session</h5>
                  <p>Share this live session with your friends.</p>
                </div>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <img src="../../assets/live-chat/close-icon.svg" alt="#" />
                </button>
              </div>
              <div class="modal-body">
                <div class="ls-social-share">
                  <a href="#" class="ls-social-card">
                      <ShareNetwork network="facebook" :url="linkToCopy" :title="shareSession?.name || ''"
                                    :description="shareSession?.description || ''" :quote="shareSession?.description || ''" hashtags="nearpeer,nearpeerorg">
                          <img style="margin: 0 10px;" src="../../assets/Facebook Icon.svg" class="mob-icons" />
                      </ShareNetwork>
                    Facebook
                  </a>
                  <a href="#" class="ls-social-card">
                      <ShareNetwork network="Twitter" :url="linkToCopy" :title="shareSession?.name || ''" :description="shareSession?.description || ''"
                                    :quote="shareSession?.name || ''" hashtags="nearpeer,nearpeerorg" :twitter-user="Nearpeer">
                          <img style="margin: 0 10px;" src="../../assets/live-chat/twitter.svg" class="mob-icons" />
                      </ShareNetwork>
                    Twitter (X)
                  </a>
                  <a href="#" class="ls-social-card">
                      <ShareNetwork network="WhatsApp" :url="linkToCopy" :title="shareSession?.name || ''"
                                    :description="shareSession?.description || ''" :quote="shareSession?.name || ''" hashtags="nearpeer,nearpeer.org">
                          <img style="margin: 0 10px;" src="../../assets/live-chat/whatsapp.svg" class="mob-icons" />
                      </ShareNetwork>
                    Whatsapp
                  </a>
                  <a href="#" @click="copyURL" class="ls-social-card">
                    <img src="../../assets/live-chat/copy.svg" alt="">
                      {{ coppied ? 'Coppied': 'Copy Link' }}
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
  
        <!-- Copy or Share Modal end -->


        <!-- Add to calendar Modal start -->

        <div class="modal fade ls-modal" id="add_to_celendar" tabindex="-1" aria-labelledby="add_to_celendar_Label" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered modal-lg ls-modal-lg">
            <div class="modal-content ls-modal-content">
              <div class="modal-header ls-modal-header ls-modal-header-transparent">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body ls-modal-body">
                <div class="flex-view align-items-center flex-direction-row-col">
                  <div class="w-100"><img src="./../../assets/live session added illustration.svg" alt="#" style="width: 100%;" /></div>
                  <div class="pl-lg-4 pt-4 pt-lg-0">
                    <div class="pc-title">
                     <h3> Live Session Added</h3>
                    </div>
                    <div class="pc-detail">
                      Congratulation's your live session <strong> Logic and Critical Thinking</strong> is added in your google calendar
                    </div>
                    <button type="button" data-dismiss="modal" aria-label="Close" class="btn-np btn-contained hy button-height m-0 px-5">Ok</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Add to calendar Modal end -->

        <!-- Join Session Modal start -->

        <div class="modal fade ls-modal" id="join_session" tabindex="-1" aria-labelledby="join_session_Label" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered modal-lg ls-modal-lg">
            <div class="modal-content ls-modal-content">
              <div class="modal-header ls-modal-header ls-modal-header-transparent">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body ls-modal-body">
                <div class="flex-view align-items-center flex-direction-row-col">
                  <div class="w-100"><img src="./../../assets/sent email illustration.svg" alt="#" style="width: 100%;" /></div>
                  <div class="pl-lg-4 pt-4 pt-lg-0">
                    <div class="pc-title">
                     <h3> Live Session Added</h3>
                    </div>
                    <div class="pc-detail">
                      An email has been sent to your email address <a href="mailto:abc@cloud.com"> abc@cloud.com</a>. Please Check your email inbox and follow the instructions about your Live Session.
                    </div>
                    <button type="button" class="btn-np btn-contained hy button-height m-0 px-5" data-dismiss="modal" aria-label="Close">Ok</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Join Session Modal end -->


        <!-- session detail issue Modal start -->

        <div class="modal fade ls-modal" id="uls_view_details" tabindex="-1" aria-labelledby="uls_view_details_Label" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content">
              <div class="modal-header ls-modal-header">
                <h5 class="modal-title" id="uls_view_details_Label">Live Session - History Of Pakistan (Coming Soon)</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <div class="row">
                  <div class="ls-professer col-md-12 col-lg-6">
                    <div class="ls-title"><h4>Accounting & Finance</h4></div>
                    <div class="flex-view ls-professer-detail align-items-center">
                      <div class="ls-professor-avatar">
                        <img src="./../../assets/IMG_1037-2@2x.png" alt="#">
                      </div>
                      <div class="professer-detail">
                        <div class="ls-professer-name"><h4>Haris Ghani</h4></div>
                        <div class="ls-professer-exp">
                          PHD Scholar, M Phil, M Com (Accounting and Finance) Experience: 12 Years
                        </div>
                      </div>
                    </div>
                    <div class="ls-desc">In this session we are going to discuss so many things About Critical Thinking Including Live Sessions which are present upcoming etc.</div>
                  </div>
                  <div class="ls-time flex-view flex-direction-col justify-content-between col-md-12 col-lg-6">
                    <div class="flex-view justify-content-between align-items-center">
                      <div class="ls-title">
                      <h4> Time Remaining </h4>
                      </div>
                    </div>
                    <div class="ls-time-remain flex-view align-items-center justify-content-between">
                        <img src="./../../assets/clock time icon.svg" alt="#" />
                        <div class="clock">
                        <h2>15</h2>
                          <span>days</span>
                        </div>
                        <div class="clock">
                        <h2>  20</h2>
                          <span>Hour</span>
                        </div>
                        <div class="clock">
                          <h2>40</h2>
                          <span>Minutes</span>
                        </div>
                    </div>
                    <div class="date-time">
                     <h4> 25/04/2022 AT 5:30 PM</h4>
                    </div>
                  </div>
                </div>
              </div>
              <div class="modal-footer text-center">
                <button type="button" class="btn-np btn-contained hy button-height px-5" data-dismiss="modal" aria-label="Close">ok</button>
              </div>
            </div>
          </div>
        </div>

        <!-- session detail Modal end -->
    </div>
  </div>
</div>




